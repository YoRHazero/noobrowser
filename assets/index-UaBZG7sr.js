import{c as w,j as e,r as d,D as U,B as j,S as u,H as x,a as b,b as I,t as T}from"./index-DTfHgk7v.js";import{u as $,a as H,I as D,H as E,T as y,B as c,b as F}from"./connection-Dy1eGPll.js";import{G as R}from"./Galaxy-BuxU6miu.js";import{F as v,a as S,I as k,b as W}from"./input-DzNyXDtv.js";import"./create-split-props-u5h9OPvL.js";const C=w("div",{base:{display:"flex",alignItems:"center",justifyContent:"center"},variants:{inline:{true:{display:"inline-flex"}}}});C.displayName="Center";function P({children:s,className:n="",colors:a=["#40ffaa","#4079ff","#40ffaa","#4079ff","#40ffaa"],animationSpeed:r=8,showBorder:i=!1}){const o={backgroundImage:`linear-gradient(to right, ${a.join(", ")})`,animationDuration:`${r}s`};return e.jsxs("div",{className:`animated-gradient-text ${n}`,children:[i&&e.jsx("div",{className:"gradient-overlay",style:o}),e.jsx("div",{className:"text-content",style:o,children:s})]})}const q=({text:s,disabled:n=!1,speed:a=5,className:r=""})=>{const i=`${a}s`;return e.jsx("div",{className:`shiny-text ${n?"disabled":""} ${r}`,style:{animationDuration:i},children:s})},z="/noobrowser/assets/logo-pBVU61e6.png";function Q(){const{backendUrl:s,username:n,setIsConnected:a,setBackendUrl:r,setUsername:i,reset:o}=$(),[h,m]=d.useState(s),[f,p]=d.useState(n),N=()=>{let t=h.trim();!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`http://${t}`),r(t),i(f.trim()),T.success({title:"Settings saved",description:"Configuration updated successfully."})},B=()=>{o(),m(""),p("")},l=H({queryKey:["backend-status",s],enabled:!!s,retry:0,queryFn:({signal:t})=>F.get(s,{signal:t,timeout:3e3,validateStatus:()=>!0}).then(g=>({status:g.status,data:g.data}))});return d.useEffect(()=>{l.isSuccess?a(!0):a(!1)},[l.isSuccess,a]),e.jsx(U,{children:e.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[e.jsx(R,{transparent:!1}),e.jsx(j,{minH:"100vh",bg:"transparent",color:"fg",children:e.jsx(C,{py:"12",children:e.jsxs(u,{gap:"8",w:"full",maxW:"lg",px:{base:4,md:6},children:[e.jsxs(u,{align:"center",gap:"3",children:[e.jsx(D,{src:z,alt:"Noobrowser logo",boxSize:"40",css:{animation:"spin 20s linear infinite"}}),e.jsx(P,{children:e.jsx(E,{size:"3xl",children:"NooBrowser"})}),e.jsx(q,{text:"A web tool for wfss built with React",disabled:!1,speed:5,className:"text-fg-muted"})]}),e.jsx(j,{bg:"bg.panel",borderWidth:"1px",rounded:"l3",p:"6",shadow:"sm",children:e.jsxs(u,{gap:"5",children:[e.jsxs(v,{children:[e.jsx(S,{children:"Backend URL"}),e.jsx(k,{id:"backendUrl",placeholder:"http://127.0.0.1:8000",value:h,onChange:t=>m(t.currentTarget.value)}),e.jsx(W,{children:"Example: http://localhost:8000, the address of noobackend"})]}),e.jsxs(v,{children:[e.jsx(S,{children:"Username"}),e.jsx(k,{id:"username",placeholder:"Your username",value:f,onChange:t=>p(t.currentTarget.value)})]}),e.jsxs(x,{justify:"flex-end",children:[e.jsx(b,{variant:"outline",onClick:B,children:"Reset"}),e.jsx(b,{colorPalette:"teal",onClick:N,children:"Save"})]})]})}),e.jsxs(y,{textStyle:"sm",color:"fg.muted",children:["Current configuration: ",n||"Anonymous","@",s||"Not set"]}),e.jsxs(x,{children:[e.jsx(y,{fontWeight:"semibold",children:"Backend status:"}),!s&&e.jsx(c,{variant:"subtle",children:"Not configured"}),s&&l.isPending&&e.jsxs(x,{gap:"2",children:[e.jsx(I,{boxSize:"4"})," ",e.jsx(c,{variant:"subtle",children:"Checkingâ€¦"})]}),s&&l.isError&&e.jsx(c,{colorPalette:"red",children:"Disconnected"}),s&&l.isSuccess&&e.jsx(c,{colorPalette:"green",children:"Connected"})]})]})})})]})})}export{Q as component};
