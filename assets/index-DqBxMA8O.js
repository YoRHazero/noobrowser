import{c as N,r as d,j as e,a as I,D as T,B as p,S as u,H as x,b,d as $,t as F}from"./index-CbqYK5_x.js";import{u as H,a as R,H as D,F as y,b as v,I as S,c as E,T as k,B as c,d as P}from"./connection-BGh2YSnO.js";import{G as W}from"./Galaxy-DLdgHt6t.js";import"./create-split-props-u5h9OPvL.js";const C=N("div",{base:{display:"flex",alignItems:"center",justifyContent:"center"},variants:{inline:{true:{display:"inline-flex"}}}});C.displayName="Center";const w=d.forwardRef(function(a,n){const{align:r,fit:i="cover",...l}=a;return e.jsx(N.img,{ref:n,objectFit:i,objectPosition:r,className:I("chakra-image",a.className),...l})});w.displayName="Image";function q({children:s,className:a="",colors:n=["#40ffaa","#4079ff","#40ffaa","#4079ff","#40ffaa"],animationSpeed:r=8,showBorder:i=!1}){const l={backgroundImage:`linear-gradient(to right, ${n.join(", ")})`,animationDuration:`${r}s`};return e.jsxs("div",{className:`animated-gradient-text ${a}`,children:[i&&e.jsx("div",{className:"gradient-overlay",style:l}),e.jsx("div",{className:"text-content",style:l,children:s})]})}const z=({text:s,disabled:a=!1,speed:n=5,className:r=""})=>{const i=`${n}s`;return e.jsx("div",{className:`shiny-text ${a?"disabled":""} ${r}`,style:{animationDuration:i},children:s})},A="/noobrowser/assets/logo-pBVU61e6.png";function Q(){const{backendUrl:s,username:a,setIsConnected:n,setBackendUrl:r,setUsername:i,reset:l}=H(),[h,m]=d.useState(s),[f,g]=d.useState(a),B=()=>{let t=h.trim();!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`http://${t}`),r(t),i(f.trim()),F.success({title:"Settings saved",description:"Configuration updated successfully."})},U=()=>{l(),m(""),g("")},o=R({queryKey:["backend-status",s],enabled:!!s,retry:0,queryFn:({signal:t})=>P.get(s,{signal:t,timeout:3e3,validateStatus:()=>!0}).then(j=>({status:j.status,data:j.data}))});return d.useEffect(()=>{o.isSuccess?n(!0):n(!1)},[o.isSuccess,n]),e.jsx(T,{children:e.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh"},children:[e.jsx(W,{transparent:!1}),e.jsx(p,{minH:"100vh",bg:"transparent",color:"fg",children:e.jsx(C,{py:"12",children:e.jsxs(u,{gap:"8",w:"full",maxW:"lg",px:{base:4,md:6},children:[e.jsxs(u,{align:"center",gap:"3",children:[e.jsx(w,{src:A,alt:"Noobrowser logo",boxSize:"40",css:{animation:"spin 20s linear infinite"}}),e.jsx(q,{children:e.jsx(D,{size:"3xl",children:"NooBrowser"})}),e.jsx(z,{text:"A web tool for wfss built with React",disabled:!1,speed:5,className:"text-fg-muted"})]}),e.jsx(p,{bg:"bg.panel",borderWidth:"1px",rounded:"l3",p:"6",shadow:"sm",children:e.jsxs(u,{gap:"5",children:[e.jsxs(y,{children:[e.jsx(v,{children:"Backend URL"}),e.jsx(S,{id:"backendUrl",placeholder:"http://127.0.0.1:8000",value:h,onChange:t=>m(t.currentTarget.value)}),e.jsx(E,{children:"Example: http://localhost:8000, the address of noobackend"})]}),e.jsxs(y,{children:[e.jsx(v,{children:"Username"}),e.jsx(S,{id:"username",placeholder:"Your username",value:f,onChange:t=>g(t.currentTarget.value)})]}),e.jsxs(x,{justify:"flex-end",children:[e.jsx(b,{variant:"outline",onClick:U,children:"Reset"}),e.jsx(b,{colorPalette:"teal",onClick:B,children:"Save"})]})]})}),e.jsxs(k,{textStyle:"sm",color:"fg.muted",children:["Current configuration: ",a||"Anonymous","@",s||"Not set"]}),e.jsxs(x,{children:[e.jsx(k,{fontWeight:"semibold",children:"Backend status:"}),!s&&e.jsx(c,{variant:"subtle",children:"Not configured"}),s&&o.isPending&&e.jsxs(x,{gap:"2",children:[e.jsx($,{boxSize:"4"})," ",e.jsx(c,{variant:"subtle",children:"Checkingâ€¦"})]}),s&&o.isError&&e.jsx(c,{colorPalette:"red",children:"Disconnected"}),s&&o.isSuccess&&e.jsx(c,{colorPalette:"green",children:"Connected"})]})]})})})]})})}export{Q as component};
